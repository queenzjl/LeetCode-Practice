<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>checkPossibility</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<!-- 题目描述：
		给定一个长度为 n 的整数数组，你的任务是判断在最多改变 1 个元素的情况下，该数组能否变成一个非递减数列。

		我们是这样定义一个非递减数列的： 对于数组中所有的 i (1 <= i < n)，满足 array[i] <= array[i + 1]。

		示例 1:

		输入: [4,2,3]
		输出: True
		解释: 你可以通过把第一个4变成1来使得它成为一个非递减数列。
	 -->
	<script type="text/javascript">
		var checkPossibility = function(nums) {
		    if(nums.length <3 ){
		        return true;
		    }
		    var count = 0;
		    if(nums[0] > nums[1]){
		    	nums[0] = nums[1];
		    	count++;
		    }

		    for(var i=1; i<nums.length; i++){
		    	var right = nums[i+1];
		    	if(nums[i] > right){
		    		count++;
		    		if(count >= 2){
		    			return false;
		    		}
		    		var left = nums[i-1];
		    		if(left > right){
		    			nums[i+1] = nums[i];
		    		}else {
		    			nums[i] = left;
		    		}
		    	}
		    }
		    return true;
		};
	</script>
</body>
</html>